{"ast":null,"code":"import _defineProperty from \"/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/src/Components/Login.js\";\nimport React, { Component } from 'react';\nimport LoginForm from './LoginForm.js';\nimport SignUp from './SignUp.js';\nimport HomePage from './HomePage.js';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { loginUser, authorizeToken as _authorizeToken } from '../actions/LoginAndSignUpActions.js';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: null,\n      password: null\n    };\n\n    _this.handleLoginFormChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleLoginSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.login(_this.state);\n    };\n\n    _this.mainPage = function () {\n      if (_this.props.user.id != null) {\n        return React.createElement(HomePage, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(LoginForm, {\n          handleLoginSubmit: _this.handleLoginSubmit,\n          handleLoginFormChange: _this.handleLoginFormChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token = localStorage.getItem(\"token\");\n      this.props.authorizeToken(token);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: function render(props) {\n          return React.createElement(SignUp, {\n            history: props.history,\n            adapter: _this2.adapter,\n            handleSignUp: _this2.handleSignUp,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        render: function render() {\n          return _this2.mainPage();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    login: function login(loginObj) {\n      return dispatch(loginUser(loginObj));\n    },\n    authorizeToken: function authorizeToken(token) {\n      return dispatch(_authorizeToken(token));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/otash/Flatiron/MOD5/project/paper-claim-handler-front-end/src/Components/Login.js"],"names":["React","Component","LoginForm","SignUp","HomePage","BrowserRouter","Route","Switch","connect","loginUser","authorizeToken","Login","state","email","password","handleLoginFormChange","e","setState","target","name","value","handleLoginSubmit","preventDefault","props","login","mainPage","user","id","token","localStorage","getItem","history","adapter","handleSignUp","mapStateToProps","mapDispatchToProps","dispatch","loginObj"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport LoginForm from './LoginForm.js'\nimport SignUp from './SignUp.js'\nimport HomePage from './HomePage.js'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { loginUser, authorizeToken } from '../actions/LoginAndSignUpActions.js'\n\n\nclass Login extends Component {\n\n  state = {\n    email: null,\n    password: null\n  }\n\n  componentDidMount() {\n      const token = localStorage.getItem(\"token\")\n      this.props.authorizeToken(token)\n    }\n\n  handleLoginFormChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  handleLoginSubmit = (e) => {\n    e.preventDefault()\n    this.props.login(this.state)\n  }\n\n  mainPage = () => {\n    if (this.props.user.id != null) {\n      return (<HomePage />)\n    } else {\n      return (<LoginForm handleLoginSubmit={this.handleLoginSubmit} handleLoginFormChange={this.handleLoginFormChange} />)\n    }\n  }\n\n\n  render() {\n    return (\n      <BrowserRouter>\n        <React.Fragment>\n        <Switch>\n          <Route exact path=\"/signup\" render={(props) => <SignUp history={props.history} adapter={this.adapter} handleSignUp={this.handleSignUp} />} />\n          <Route path=\"/\" render={() => this.mainPage()} />\n        </Switch>\n        </React.Fragment>\n      </BrowserRouter>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: (loginObj) => dispatch(loginUser(loginObj)),\n    authorizeToken: (token) => dispatch(authorizeToken(token))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}